
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

    <head th:replace="layout/main :: head">
    </head>
    <header th:replace="layout/main :: header">

    </header>
    <body>

        <!--                <div class="container">
                            <h1>Registro de ticket</h1>
                            <section th:replace="~{UsuarioTickets/fragmentos :: agregarSolicitud}"/>         
                        </div>-->
        <div class="container">
            <h1>[[#{solicitud.titulo}]]</h1>
            <div class="panel panel-default">
                <div class="panel-body">
                    <form th:action="@{/ticket/guardar}" th:object="${ticket}"
                          method="POST" class="was-validated"
                          enctype="multipart/form-data">
                        <!-- 2 column grid layout with text inputs for the first and last names -->
                        <!--<input type="hidden" name="usuario.idUsuario" value="5"/>-->
                        <input type="hidden" name="fechaRegistraTecnico"/>
                        <input type="hidden" name="fechaRegistroUsuario"/>
                        <input type="hidden" name="estado"/>
                        <input type="hidden" name="prioridad"/>
                        <input type="hidden" name="idTecnico"/>
                        <input type="hidden" name="comentarioTecnico" value=""/>
                        <div class="mb-3">
                            <label for="usuario">[[#{plantilla.tusuario}]]</label>
                            <select th:field="*{usuario.idUsuario}"
                                    class="form-select" 
                                    aria-label="Default select example" readOnly>
                                <option th:each="c : ${usuarios}" th:value="${c.idUsuario}" th:text="${c.username}" th:if="${c.username} == ${#authentication.getName()}"
                                       readOnly >
                                </option>
                            </select>
                        </div>


                        <!-- Text input -->
                        <div class="form-outline mb-4">
                            <label for="titulo">[[#{solicitud.titulo.nombre}]]</label>
                            <input type="text" name="titulo" class="form-control" />

                        </div>
                        <div class="mb-3">
                            <label for="incidencia">[[#{solicitud.tipo.incidente}]]</label>
                            <select th:field="*{incidencia.incidencia}"
                                    class="form-select" 
                                    aria-label="Default select example">
                                <option th:each="c : ${incidencias}" th:value="${c.incidencia}" th:text="${c.descripcion}">
                                </option>
                            </select>
                        </div>
                        <div class="form-outline mb-4">
                            <label for="descripcion">[[#{solicitud.descripcion}]]</label>
                            <textarea class="form-control" name="descripcion" rows="4"></textarea>

                        </div>

                        <!-- Number input -->
                        <!--                        <div class="form-outline mb-4">
                                                    <label class="form-label" for="form6Example6">Archivos</label>
                                                    <input type="file" id="form6Example6" class="form-control" />
                        
                                                </div>-->

                        <div class="form-outline mb-4">
                            <label for="comentariosUsuario2">[[#{solicitud.comentarios.usuario}]]</label>
                            <textarea class="form-control" name="comentariosUsuario" rows="4" ></textarea>

                        </div>
                        <div class="form-outline mb-4">
                            <!-- Submit button -->
                            <button type="submit" class="btn btn-primary btn-block mb-2">[[#{accion.guardar}]]</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    </body>
</html>
